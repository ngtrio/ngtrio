<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on æ˜Ÿæ²³é¹­èµ·</title><link>https://ngtrio.com/posts/</link><description>Recent content in Posts on æ˜Ÿæ²³é¹­èµ·</description><generator>Hugo</generator><language>en-us</language><copyright>ngtrio. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</copyright><lastBuildDate>Sat, 01 Feb 2025 15:24:14 +0800</lastBuildDate><atom:link href="https://ngtrio.com/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Go Generics</title><link>https://ngtrio.com/posts/go-genric/</link><pubDate>Sun, 17 Apr 2022 23:09:41 +0800</pubDate><guid>https://ngtrio.com/posts/go-genric/</guid><description>&lt;p>&lt;img src="images/2022-04-17-15-22-16.png" alt="">&lt;/p>
&lt;ul>
&lt;li>Generics&lt;/li>
&lt;li>Fuzzing&lt;/li>
&lt;li>Workspaces&lt;/li>
&lt;li>20% Performance Improvements&lt;/li>
&lt;/ul>
&lt;p>æœ¬æ–‡æ˜¯å¯¹Go1.18çš„ç¬¬ä¸€ä¸ªç‰¹æ€§ï¼šæ³›å‹ï¼ˆGenericsï¼‰åšçš„ä¸€äº›ä½“éªŒæ€»ç»“ã€‚&lt;/p>
&lt;h2 id="ä»å¸¸è§çš„åœºæ™¯è¯´èµ·">ä»å¸¸è§çš„åœºæ™¯è¯´èµ·&lt;/h2>
&lt;h3 id="å¯¹æŒ‡é’ˆç±»å‹è¿›è¡Œè§£å¼•ç”¨">å¯¹æŒ‡é’ˆç±»å‹è¿›è¡Œè§£å¼•ç”¨&lt;/h3>
&lt;p>ä¸€èˆ¬æˆ‘ä»¬ä¼šåƒä¸‹é¢è¿™æ ·å¯¹ä¸åŒçš„ç±»å‹åˆ†åˆ«å®ç°å¯¹åº”çš„è§£å¼•ç”¨å‡½æ•°ï¼ˆä¸ä½¿ç”¨åå°„çš„æƒ…å†µä¸‹ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8b008b;font-weight:bold">func&lt;/span> &lt;span style="color:#008b45">PtrToString&lt;/span>(strPtr *&lt;span style="color:#00688b;font-weight:bold">string&lt;/span>) &lt;span style="color:#00688b;font-weight:bold">string&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> strPtr == &lt;span style="color:#8b008b;font-weight:bold">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> &lt;span style="color:#cd5555">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex; background-color:#d6d6c6">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> *strPtr
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8b008b;font-weight:bold">func&lt;/span> &lt;span style="color:#008b45">PtrToInt&lt;/span>(intPtr *&lt;span style="color:#00688b;font-weight:bold">int&lt;/span>) &lt;span style="color:#00688b;font-weight:bold">int&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> intPtr == &lt;span style="color:#8b008b;font-weight:bold">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> &lt;span style="color:#b452cd">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> *intPtr
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8b008b;font-weight:bold">func&lt;/span> &lt;span style="color:#008b45">PtrToBool&lt;/span>(boolPtr *&lt;span style="color:#00688b;font-weight:bold">bool&lt;/span>) &lt;span style="color:#00688b;font-weight:bold">bool&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> boolPtr == &lt;span style="color:#8b008b;font-weight:bold">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> &lt;span style="color:#8b008b;font-weight:bold">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> *boolPtr
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#228b22">// ...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¯æ–°å¢ä¸€ä¸ªç±»å‹æˆ‘ä»¬å°±éœ€è¦é’ˆå¯¹è¿™ä¸ªç±»å‹å®ç°ä¸€æ®µç±»ä¼¼é‡å¤çš„ä»£ç ï¼Œä½†è¿™äº›å‡½æ•°çš„å”¯ä¸€ä¸åŒç‚¹ï¼Œ&lt;strong>å®é™…ä¸Šåªæœ‰å‡½æ•°å‚æ•°çš„ç±»å‹å’Œå‡½æ•°å“åº”å€¼çš„ç±»å‹ä¸åŒ&lt;/strong>ã€‚&lt;/p>
&lt;p>è€Œ &lt;strong>æ³›å‹(Generics)&lt;/strong> å°±æ˜¯ç»™å˜é‡çš„ç±»å‹ä¹Ÿå¼•å…¥â€œå½¢å‚&amp;amp;å®å‚â€çš„æ¦‚å¿µã€‚æˆ‘ä»¬å®šä¹‰å‡½æ•°çš„æ—¶å€™å¯ä»¥ç»™å‚æ•°ç±»å‹å®šä¹‰â€œç±»å‹å½¢å‚â€ï¼Œåœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡½æ•°ä¼ å…¥ç±»å‹çš„å®å‚ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ³›å‹ï¼Œä¸Šè¿°çš„ä»£ç å®ç°å¯ä»¥è½¬å˜ä¸ºä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#228b22">// å®šä¹‰è§£å¼•ç”¨å‡½æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8b008b;font-weight:bold">func&lt;/span> FromPtr[T &lt;span style="color:#00688b;font-weight:bold">any&lt;/span>](anyPtr *T) T {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>	&lt;span style="color:#8b008b;font-weight:bold">var&lt;/span> zero T
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>	&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> anyPtr == &lt;span style="color:#8b008b;font-weight:bold">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex; background-color:#d6d6c6">&lt;span>		&lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> zero
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>	}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>	&lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> *anyPtr
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯¹äºä¸åŒçš„ç±»å‹ï¼Œæˆ‘ä»¬éƒ½åªéœ€è¦è°ƒç”¨è¿™ä¸€ä¸ª&lt;code>æ³›å‹å‡½æ•°&lt;/code>å³å¯ã€‚&lt;/p></description></item><item><title>OpenWRTè·‘Goå®šæ—¶ä»»åŠ¡</title><link>https://ngtrio.com/posts/openwrt%E8%B7%91go%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/</link><pubDate>Sun, 23 Jan 2022 10:48:19 +0800</pubDate><guid>https://ngtrio.com/posts/openwrt%E8%B7%91go%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/</guid><description>&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯&lt;/h2>
&lt;p>å› ä¸ºå‰æ®µæ—¶é—´ä¸ºäº†åšä¸€ä¸ªå…¨å±€çš„ğŸªœï¼Œäºæ˜¯æŠŠå®¶é‡Œçš„è·¯ç”±å™¨åˆ·äº†ä¸€ä¸ªOpenWRTï¼Œå°½ç®¡è·¯ç”±å™¨æ€§èƒ½æ¯”è¾ƒæ‹‰èƒ¯ï¼Œä½†æ˜¯æ¶èµ·äº†ğŸªœåï¼Œè¿˜æ˜¯æœ‰ä¸€å®šçš„é—ªå­˜ç©ºé—´ä»¥åŠå†…å­˜ç©ºé—´ï¼Œæœ€è¿‘æƒ³æŠŠè¿™ç‚¹ç©ºé—´ä¹Ÿç»™åˆ©ç”¨ä¸Šï¼Œ&lt;del>è·¯ç”±å™¨24hå·¥ä½œçš„ç”µè´¹å¾—æ‰¾è¡¥å›æ¥ã€‚&lt;/del> &lt;br>
æƒ³åˆ°ä¹‹å‰å­¦ä¹ Goçš„æ—¶å€™å†™äº†ä¸ªç®€å•çš„TGæœºå™¨äººï¼Œåˆšå¥½æœ€è¿‘æƒ³è·‘å‡ ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œäºæ˜¯å†³å®šæŠŠè¿™ä¸ªæœºå™¨äººæ­å»ºåˆ°è·¯ç”±å™¨ä¸Šã€‚&lt;/p>
&lt;h2 id="äº¤å‰ç¼–è¯‘">äº¤å‰ç¼–è¯‘&lt;/h2>
&lt;p>å› ä¸ºè·¯ç”±å™¨çš„CPUæ¶æ„ä¸ä¸€æ ·ï¼Œæˆ‘è‡ªå·±æœ¬æœºç¼–è¯‘çš„äºŒè¿›åˆ¶è‡ªç„¶æ˜¯æ— æ³•åœ¨è·¯ç”±å™¨ä¸Šè·‘èµ·æ¥çš„ã€‚æ‰€ä»¥éœ€è¦è¿›è¡Œäº¤å‰ç¼–è¯‘ï¼Œè¿™é‡Œçœ‹åˆ°æˆ‘çš„è·¯ç”±å™¨CPUæ¶æ„æ˜¯&lt;code>mips&lt;/code>&lt;/p>
&lt;pre tabindex="0">&lt;code>root@OpenWrt:~# uname -m
mips
&lt;/code>&lt;/pre>&lt;p>&lt;a href="https://go.dev/doc/install/source#environment">GoåŸç”Ÿå°±æ”¯æŒäº¤å‰ç¼–è¯‘&lt;code>mips&lt;/code>æŒ‡ä»¤é›†çš„äºŒè¿›åˆ¶&lt;/a>ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥å°±å¾ˆç®€å•äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00688b">GOOS&lt;/span>=linux &lt;span style="color:#00688b">GOARCH&lt;/span>=mipsle &lt;span style="color:#00688b">GOMIPS&lt;/span>=softfloat go build
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ—¶åŒºé—®é¢˜">æ—¶åŒºé—®é¢˜&lt;/h2>
&lt;p>æ™šä¸Šå®šæ—¶ä»»åŠ¡å†™å¥½ï¼Œç¼–è¯‘å¥½ï¼Œåœ¨è·¯ç”±å™¨ä¸Šè·‘èµ·æ¥åå°±ç¡è§‰å»äº†ï¼Œä½†æ˜¯ç¬¬äºŒå¤©æ—©ä¸Šä¹ç‚¹å¤šèµ·åºŠå‘ç°æˆ‘çš„tg botå¹¶æ²¡æœ‰æ”¶åˆ°cronä¸º&lt;code>0 0 8 * * ?&lt;/code>çš„å®šæ—¶ä»»åŠ¡æ¶ˆæ¯ã€‚&lt;br>
é¦–å…ˆsshåˆ°è·¯ç”±å™¨ï¼Œå¯ä»¥ç¡®å®šæˆ‘çš„tgbotçš„è¿›ç¨‹å¹¶æ²¡æœ‰æŒ‚æ‰ï¼ŒæŸ¥çœ‹æ—¥å¿—ä¹Ÿæ²¡æœ‰ä»»ä½•é”™è¯¯ä¿¡æ¯ï¼Œä½†æ˜¯å‘ç°æ—¥å¿—çš„æ—¶é—´éƒ½æ˜¯&lt;code>UTC&lt;/code>æ—¶é—´ï¼Œè¿™å°±æ„å‘³ç€å®šæ—¶ä»»åŠ¡å…¶å®è¿˜æ²¡åˆ°è§¦å‘çš„æ—¶é—´ã€‚&lt;br>
ä½†æ˜¯è®°å¾—ä¹‹å‰æ˜¯åœ¨OpenWRTåå°æ˜¯è®¾ç½®è¿‡&lt;code>UTC+8&lt;/code>æ—¶åŒºçš„ï¼Œå¹¶ä¸”åœ¨è·¯ç”±å™¨çš„shellæ‰§è¡Œ&lt;code>date -R&lt;/code>ä¹Ÿæ˜¾ç¤ºçš„æ˜¯&lt;code>UTC+8&lt;/code>&lt;/p>
&lt;pre tabindex="0">&lt;code>root@OpenWrt:/etc# date -R
Sun, 23 Jan 2022 10:56:06 +0800
&lt;/code>&lt;/pre>&lt;p>è€Œæˆ‘ä¹Ÿæ¸…æ¥šè®°å¾—Goçš„time.Format()é»˜è®¤å°±æ˜¯é‡‡ç”¨çš„ç³»ç»Ÿæ—¶åŒºï¼Œè¿™é‡ŒGoæ²¡æœ‰è¯»å–åˆ°å°±æœ‰ç‚¹å¥‡æ€ªäº†ã€‚&lt;br>
äºæ˜¯äº†è§£äº†ä¸‹ç»†èŠ‚ï¼š&lt;/p>
&lt;ol>
&lt;li>OpenWRTåœ¨å“ªé‡Œè®¾ç½®äº†æ—¶åŒº
&lt;ul>
&lt;li>/etc/TZæ–‡ä»¶&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Goä»å“ªé‡Œè·å–ç³»ç»Ÿæ—¶åŒº
&lt;ul>
&lt;li>è¯»å–TZç¯å¢ƒå˜é‡&lt;/li>
&lt;li>è¯»å–/etc/localtimeæ–‡ä»¶&lt;/li>
&lt;li>æœ¬åœ°æ—¶åŒºè¯»å–å¤±è´¥ï¼Œä½¿ç”¨ UTC æ—¶é—´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>é—®é¢˜å°±å¾ˆæ˜¾ç„¶äº†ã€‚&lt;br>
è§£å†³ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>opkg update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>opkg install zoneinfo-asia
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;p>&lt;a href="https://stackoverflow.com/a/60161561/11571735">Writing and Compiling Program For OpenWrt&lt;/a>&lt;br>
&lt;a href="https://go.dev/doc/install/source#environment">Go environment&lt;/a>&lt;br>
&lt;a href="https://www.imhanjm.com/2017/10/29/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3golang%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86(time.time)/">æ·±å…¥ç†è§£GOæ—¶é—´å¤„ç†(time.Time)&lt;/a>&lt;/p></description></item><item><title>Capnproto</title><link>https://ngtrio.com/posts/capnproto/</link><pubDate>Sun, 14 Nov 2021 16:52:38 +0800</pubDate><guid>https://ngtrio.com/posts/capnproto/</guid><description>&lt;p>ä»Kitexçš„Rodemapä¸­çœ‹åˆ°è¿™ä¸€æ¡ï¼š&lt;/p>
&lt;p>&lt;img src="images/image-20211115000303622.png" alt="image-20211115000303622">&lt;/p>
&lt;h3 id="ç®€ä»‹">ç®€ä»‹&lt;/h3>
&lt;p>&lt;a href="https://capnproto.org/index.html">Cap&amp;rsquo;n Proto &lt;/a>æ˜¯Protocol Buffer 2 çš„ä¸»è¦ä½œè€… Kenton Varda ç»è¿‡å¤šå¹´çš„å®è·µç»éªŒå’Œå¬å–ç”¨æˆ·ä½¿ç”¨å»ºè®®åæ‰€è®¾è®¡å‡ºæ¥çš„æ•°æ®äº¤æ¢æ ¼å¼(interchange format) å’Œ RPC ç³»ç»Ÿã€‚&lt;/p>
&lt;h3 id="ç‰¹æ€§">ç‰¹æ€§&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>å¢é‡è¯»ï¼š&lt;/strong> Capâ€™n Proto çš„ message ä¸ç”¨ç­‰å…¨éƒ¨æ¥æ”¶å®Œæˆäº†æ‰å¼€å§‹å¤„ç†ã€‚å› ä¸ºæ¶ˆæ¯ä¸­çš„ inner å¯¹è±¡æ˜¯è¢«å®‰æ’åœ¨ outer å¯¹è±¡çš„åé¢çš„ï¼Œè€Œä¸åƒå…¶ä»–å¤§å¤šåè®®ä¸€æ ·æ˜¯åµŒå¥—å…³ç³»ã€‚&lt;/li>
&lt;li>&lt;strong>éšæœºè®¿é—®ï¼š&lt;/strong> èƒ½å¤Ÿåªè¯»ä¸€æ¡æ¶ˆæ¯ä¸­çš„ä¸€ä¸ª fieldï¼Œè€Œä¸ç”¨è§£ææ•´ä¸ªæ¶ˆæ¯ã€‚&lt;/li>
&lt;li>&lt;strong>mmapï¼š&lt;/strong> æ”¯æŒmmpã€‚åƒ protobuf å°±ä¸æ”¯æŒï¼Œè¯»å¾ˆå°ä¸€éƒ¨åˆ†ä¿¡æ¯ä¹Ÿä¼šåŠ è½½æ‰€æœ‰æ•°æ®åˆ°ç”¨æˆ·æ€ã€‚ï¼ˆå…¶å®ä¹Ÿæ²¡å•¥å¯æ¯”æ€§ï¼Œè¿™ä¸ªç‰¹æ€§ä¸»è¦è¿˜æ˜¯å› ä¸ºæ²¡æœ‰encoding/decodingè¿‡ç¨‹ï¼‰&lt;/li>
&lt;li>&lt;strong>é«˜æ•ˆçš„è¿›ç¨‹é—´é€šä¿¡ï¼š&lt;/strong> åŒæœºå™¨ä¸Šçš„å¤šä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡å…±äº«å†…å­˜æ¥åˆ†äº«Cap&amp;rsquo;n Messageã€‚æ²¡æœ‰å¿…è¦å°†æ•°æ®åœ¨user/kernelä¹‹é—´æ¥å›æ‹·è´ã€‚&lt;/li>
&lt;li>&lt;strong>å†…å­˜é›†ä¸­åˆ†é…ï¼š&lt;/strong> Capâ€™n Proto çš„å¯¹è±¡é€šå¸¸ä¼šé›†ä¸­åˆ†é…ï¼Œæœ‰ç‚¹ç±»ä¼¼æ± åŒ–ï¼Œè¾¾åˆ°å¯å¤ç”¨çš„æ•ˆæœï¼Œç¼“å­˜å‹å¥½ã€‚&lt;/li>
&lt;li>&lt;strong>ç”Ÿæˆçš„ä»£ç é‡å°ï¼š&lt;/strong> Protobuf ä¼šä¸ºæ¯ç§æ¶ˆæ¯ç±»å‹ç”Ÿæˆè§£æå’Œç¼–ç çš„ä»£ç ,ä»£ç é‡å·¨å¤§. Capâ€™n Proto ç”Ÿæˆçš„ä»£ç å°‘è‡³å°‘ä¸€ä¸ªæ•°é‡çº§ã€‚&lt;/li>
&lt;li>&lt;strong>Time-traveling RPCï¼š&lt;/strong> ä¸‹é¢ä»‹ç»ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="rpc-protocol">RPC Protocol&lt;/h3>
&lt;p>&lt;a href="https://capnproto.org/rpc.html">Time travel&lt;/a>&lt;/p></description></item><item><title>Go Array&amp;Slice</title><link>https://ngtrio.com/posts/go-array-slice/</link><pubDate>Tue, 05 Oct 2021 16:14:16 +0800</pubDate><guid>https://ngtrio.com/posts/go-array-slice/</guid><description>&lt;h2 id="spec">Spec&lt;/h2>
&lt;blockquote>
&lt;p>Array:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>ArrayType = &amp;#34;[&amp;#34; ArrayLength &amp;#34;]&amp;#34; ElementType .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ArrayLength = Expression .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ElementType = Type .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…¶ä¸­ArrayLengthæ˜¯Arrayç±»å‹çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œä¸”å¿…é¡»èƒ½å¤Ÿè®¡ç®—ä¸ºä¸€ä¸ªéè´Ÿintç±»å‹å¯â€œå¸¸é‡è¡¨ç¤ºï¼ˆ&lt;a href="https://golang.org/ref/spec#Constants">constant&lt;/a> &lt;a href="https://golang.org/ref/spec#Representability">representable&lt;/a>ï¼‰â€çš„å€¼&lt;/p>
&lt;p>Slice:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-txt" data-lang="txt">&lt;span style="display:flex;">&lt;span>SliceType = &amp;#34;[&amp;#34; &amp;#34;]&amp;#34; ElementType .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>ä¸€ä¸ªSliceåªè¦ç»è¿‡äº†åˆå§‹åŒ–ï¼Œå°±å¿…å°†å’Œä¸€ä¸ªåº•å±‚çš„Arrayç»‘å®šï¼Œç»‘å®šåœ¨åŒä¸€ä¸ªArrayä¸Šçš„Slicesä¼šå…±äº«å†…å­˜&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€šè¿‡makeåˆå§‹åŒ–ä¸€ä¸ªSliceçš„åŒæ—¶ä¼šåˆå§‹åŒ–ä¸€ä¸ªéšå¼çš„Arrayï¼Œä¹Ÿå°±æ˜¯è¯´ä¸‹é¢ä¸¤è¡Œä»£ç æ˜¯ç­‰ä»·çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#658b00">make&lt;/span>([]&lt;span style="color:#00688b;font-weight:bold">int&lt;/span>, &lt;span style="color:#b452cd">50&lt;/span>, &lt;span style="color:#b452cd">100&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#658b00">new&lt;/span>([&lt;span style="color:#b452cd">100&lt;/span>]&lt;span style="color:#00688b;font-weight:bold">int&lt;/span>)[&lt;span style="color:#b452cd">0&lt;/span>:&lt;span style="color:#b452cd">50&lt;/span>]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="arrays">Arrays&lt;/h2>
&lt;p>Golangçš„æ•°ç»„ç±»å‹å’ŒCä¸åŒï¼š&lt;/p>
&lt;ol>
&lt;li>Golangçš„æ•°ç»„æ˜¯å€¼ï¼Œè€Œä¸åƒCæ˜¯æ•°ç»„å¤´æŒ‡é’ˆ&lt;/li>
&lt;li>æ‰€ä»¥ï¼Œåœ¨ç»™ä¸€ä¸ªå‡½æ•°ä¼ æ•°ç»„å‚æ ‘çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯ä¼ çš„æ•´ä¸ªæ•°ç»„çš„ä¸€ä»½copy&lt;/li>
&lt;li>æ•°ç»„é•¿åº¦æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥&lt;code>[10]int&lt;/code>å’Œ&lt;code>[20]int&lt;/code>æ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»å‹&lt;/li>
&lt;/ol>
&lt;h2 id="slices">Slices&lt;/h2>
&lt;p>å†…éƒ¨è¡¨ç¤ºä¸ºä¸€ä¸ªä¸‰å…ƒç´ ç»“æ„ä½“ï¼š&lt;/p>
&lt;ol>
&lt;li>ptrï¼šæŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆ&lt;/li>
&lt;li>lenï¼šSliceé•¿åº¦ï¼Œè¡¨ç¤ºå¼•ç”¨çš„å…ƒç´ ä¸ªæ•°&lt;/li>
&lt;li>capï¼šSliceå®¹é‡ï¼Œä»Sliceå¼•ç”¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°åº•å±‚æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„æ•°é‡&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="images/slice-struct.png" alt="img">&lt;/p>
&lt;p>æ¯”å¦‚&lt;code>s := make([]int, 5)&lt;/code>ï¼Œsçš„è¡¨ç¤ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="images/slice-1.png" alt="img">&lt;/p>
&lt;p>å¯¹sè¿›è¡Œåˆ‡ç‰‡&lt;code>s = s[2:4]&lt;/code>ï¼Œsçš„è¡¨ç¤ºå˜ä¸ºä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="images/slice-2.png" alt="img">&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥åœ¨capèŒƒå›´å†…è¿›è¡ŒSliceçš„æ‰©å¼ ï¼Œæ¯”å¦‚ï¼š&lt;code>s = s[:cap(s)]&lt;/code>ï¼Œsçš„è¡¨ç¤ºå˜ä¸ºä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="images/slice-3.png" alt="img">&lt;/p>
&lt;p>è¶…è¿‡capä»¥åŠè®¿é—®åº•å±‚æ•°ç»„ä¸­å¤„äºSliceæ›´å‰çš„å…ƒç´ éƒ½æ˜¯&lt;strong>ä¸è¢«å…è®¸çš„&lt;/strong>&lt;/p>
&lt;h4 id="æ‰©å®¹">&lt;strong>æ‰©å®¹&lt;/strong>&lt;/h4>
&lt;p>å½“å‘Sliceä¸­æ·»åŠ å…ƒç´ çš„æ—¶å€™å‘ç°åº•å±‚Arrayçš„å®¹é‡å·²ç»ä¸å¤Ÿåˆ™ä¼šè§¦å‘æ‰©å®¹ï¼Œåº•å±‚Arrayå°†å‘ç”Ÿå†…å­˜é‡åˆ†é…ã€‚ä¸ºäº†å‡å°‘å†…å­˜åˆ†é…æ“ä½œï¼Œæˆ‘ä»¬åº”è¯¥åœ¨åˆå§‹åŒ–Sliceçš„æ—¶å€™å°½é‡ç»™å‡ºä¸€ä¸ªé¢„æœŸçš„capå¤§å°ã€‚&lt;/p>
&lt;p>æ‰©å®¹é€»è¾‘ç±»ä¼¼ä¸ä¸‹é¢è¿™æ®µä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8b008b;font-weight:bold">func&lt;/span> &lt;span style="color:#008b45">Append&lt;/span>(slice, data []&lt;span style="color:#00688b;font-weight:bold">byte&lt;/span>) []&lt;span style="color:#00688b;font-weight:bold">byte&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> l := &lt;span style="color:#658b00">len&lt;/span>(slice)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> l + &lt;span style="color:#658b00">len&lt;/span>(data) &amp;gt; &lt;span style="color:#658b00">cap&lt;/span>(slice) { &lt;span style="color:#228b22">// reallocate&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#228b22">// Allocate double what&amp;#39;s needed, for future growth.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex; background-color:#d6d6c6">&lt;span> newSlice := &lt;span style="color:#658b00">make&lt;/span>([]&lt;span style="color:#00688b;font-weight:bold">byte&lt;/span>, (l+&lt;span style="color:#658b00">len&lt;/span>(data))*&lt;span style="color:#b452cd">2&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#228b22">// The copy function is predeclared and works for any slice type.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#658b00">copy&lt;/span>(newSlice, slice)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> slice = newSlice
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> slice = slice[&lt;span style="color:#b452cd">0&lt;/span>:l+&lt;span style="color:#658b00">len&lt;/span>(data)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#658b00">copy&lt;/span>(slice[l:], data)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> slice
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘ä»¬å¿…é¡»å°†æ‰©å®¹åçš„Sliceè¿”å›ï¼Œå› ä¸ºSliceæœ¬èº«å®é™…ä¸Šè¿˜æ˜¯å€¼ä¼ é€’ï¼ˆåº•å±‚å­—æ®µptrï¼Œlenï¼Œ capï¼‰&lt;/p></description></item><item><title>é€šè¿‡Github Actionéƒ¨ç½²hexoåšå®¢åˆ°pages</title><link>https://ngtrio.com/posts/hexo-with-github-action/</link><pubDate>Mon, 04 Oct 2021 14:41:24 +0800</pubDate><guid>https://ngtrio.com/posts/hexo-with-github-action/</guid><description>&lt;p>Hexoéƒ¨ç½²åˆ° Github Page çš„ä¸€èˆ¬åˆ†ä¸ºä¸‹é¢ä¸‰æ­¥&lt;/p>
&lt;ol>
&lt;li>å†™ Markdown&lt;/li>
&lt;li>å°† Markdown æ¸²æŸ“æˆ HTML é™æ€é¡µé¢&lt;/li>
&lt;li>å°†æ¸²æŸ“å¾—åˆ°çš„æ–‡ä»¶æäº¤åˆ° &lt;code>&amp;lt;username&amp;gt;.github.io&lt;/code> ä»“åº“&lt;/li>
&lt;/ol>
&lt;p>å¦‚æœä»¥å†™åšå®¢ä¸ºç›®çš„è¯ï¼Œä¸Šè¿°2ï¼Œ3ä¸¤æ­¥å…¶å®æ˜¯â€œå†™åšå®¢â€œä¹‹å¤–çš„æ“ä½œï¼Œæ¯”è¾ƒå½±å“å†™åšå®¢çš„æ²‰æµ¸å¼ä½“éªŒã€‚è¿™é‡Œå¯ä»¥å¼•å…¥ç°æˆçš„ Github Action ï¼Œå°†ä¸Šè¿°çš„ workflow è¿›è¡Œè‡ªåŠ¨åŒ–ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡">å‡†å¤‡&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>Github Pages ä»“åº“ &lt;code>&amp;lt;username&amp;gt;.github.io&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Blog çš„æºä»£ç ä»“åº“&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ssh-keygen ç”Ÿæˆä¸€å¯¹éå¯¹ç§°å¯†é’¥ï¼Œå…¬é’¥ä½œä¸º page ä»“åº“çš„ &lt;code>Deploy Key&lt;/code>ï¼Œç§é’¥å¡«å…¥æºä»£ç ä»“åº“çš„ Secretsï¼Œä¾›åç»­ Github Action æäº¤ä»£ç åˆ° page ä»“åº“&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£… hexo git éƒ¨ç½²æ’ä»¶ hexo-deployer-git&lt;/p>
&lt;pre tabindex="0">&lt;code>npm install hexo-deployer-git --save
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ol>
&lt;h2 id="é…ç½®hexo-deploy">é…ç½®Hexo Deploy&lt;/h2>
&lt;p>åœ¨hexoæºç å·¥ç¨‹ä¸‹çš„ &lt;code>_config.yml&lt;/code> ä¸­é…ç½®ä¸‹åˆ—ä¿¡æ¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8b008b;font-weight:bold">deploy&lt;/span>:&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">type&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>git&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">repo&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>git@github.com:username/&amp;lt;username&amp;gt;.github.io.git&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">branch&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>åˆ†æ”¯å&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex; background-color:#d6d6c6">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#8b008b;font-weight:bold">message&lt;/span>:&lt;span style="color:#bbb"> &lt;/span>æäº¤ä¿¡æ¯&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨æ‰§è¡Œ &lt;code>hexo deploy&lt;/code> å‘½ä»¤æ—¶ï¼Œhexo-deployer-git æ’ä»¶å¤§è‡´ä¼šæ‰§è¡Œå¦‚ä¸‹æµç¨‹ï¼š&lt;/p></description></item><item><title>è¯»DDIA-æ•°æ®å¤åˆ¶</title><link>https://ngtrio.com/posts/ddia/</link><pubDate>Sat, 02 Oct 2021 11:29:06 +0800</pubDate><guid>https://ngtrio.com/posts/ddia/</guid><description>&lt;h2 id="æ•°æ®å¤åˆ¶">æ•°æ®å¤åˆ¶&lt;/h2>
&lt;p>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œ é€šè¿‡æ•°æ®å¤åˆ¶ï¼Œæˆ‘ä»¬å¸Œæœ›è¾¾åˆ°ä¸‹åˆ—ç›®çš„ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨å…¨çƒå„åœ°æ•°æ®ä¸­å¿ƒé—´è¿›è¡Œæ•°æ®å¤åˆ¶ï¼Œä½¿å¾—æ•°æ®åœ¨åœ°ç†ä¸Šæ›´åŠ æ¥è¿‘ç”¨æˆ·ï¼Œé™ä½ç”¨æˆ·è¯·æ±‚å»¶è¿Ÿ&lt;/li>
&lt;li>æé«˜å¯ç”¨æ€§ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹å‡ºç°æ•…éšœï¼Œæˆ‘ä»¬æœ‰ç»è¿‡æ•°æ®å¤åˆ¶å¾—åˆ°çš„å‰¯æœ¬ç»§ç»­å·¥ä½œ&lt;/li>
&lt;li>æ¨ªå‘æ‰©å±•ï¼Œç”¨å¤šä¸ªæ•°æ®ä¸€è‡´çš„èŠ‚ç‚¹æä¾›åŒä¸€ä¸ªæœåŠ¡ï¼Œæé«˜ååé‡&lt;/li>
&lt;/ul>
&lt;p>ç›®å‰ä¸šç•Œæœ‰ä¸‹é¢å‡ ç§æ•°æ®å¤åˆ¶æ–¹æ¡ˆï¼š&lt;/p>
&lt;ol>
&lt;li>ä¸»ä»å¤åˆ¶&lt;/li>
&lt;li>å¤šä¸»èŠ‚ç‚¹å¤åˆ¶&lt;/li>
&lt;li>æ— ä¸»èŠ‚ç‚¹å¤åˆ¶&lt;/li>
&lt;/ol>
&lt;h3 id="ä¸»ä»å¤åˆ¶">ä¸»ä»å¤åˆ¶&lt;/h3>
&lt;p>åŸç†ç®€è¿°ï¼š&lt;/p>
&lt;ol>
&lt;li>æŒ‡å®šä¸€ä¸ªèŠ‚ç‚¹ä¸ºä¸»èŠ‚ç‚¹ï¼Œå…¶ä»–éƒ½ä¸ºä»èŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯å†™æ•°æ®åº“è¯·æ±‚å…¨éƒ¨è·¯ç”±åˆ°ä¸»èŠ‚ç‚¹ï¼Œç”±ä¸»èŠ‚ç‚¹é¦–å…ˆå°†æ•°æ®å†™å…¥æœ¬åœ°&lt;/li>
&lt;li>ä¸»èŠ‚ç‚¹æ•°æ®æœ¬åœ°å†™å…¥å®Œæˆåï¼Œå°†æ•°æ®æ›´æ”¹æ—¥å¿—æˆ–è€…æ›´æ”¹æµå‘é€ç»™æ‰€æœ‰çš„ä»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹å°†æ•°æ®å†™å…¥æœ¬åœ°ï¼ŒåŒæ—¶ä¸¥æ ¼ä¿æŒä¸ä¸»èŠ‚ç‚¹ç›¸åŒçš„å†™å…¥æ•°æ®&lt;/li>
&lt;li>å®¢æˆ·ç«¯è¯»æ•°æ®è¯·æ±‚å¯ä»¥è·¯ç”±åˆ°å…¨éƒ¨èŠ‚ç‚¹&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>æ³¨æ„ï¼šä»èŠ‚ç‚¹åªæ¥å—è¯»æ•°æ®è¯·æ±‚ï¼Œå†™è¯·æ±‚ç”±ä¸»èŠ‚ç‚¹è´Ÿè´£&lt;/strong>&lt;/p>
&lt;p>&lt;img src="images/ddia-1.png" alt="">&lt;/p>
&lt;p>å›¾1. åŸºäºé¢†å¯¼è€…(ä¸»-ä»)çš„å¤åˆ¶&lt;/p>
&lt;p>&lt;strong>åŒæ­¥å¤åˆ¶ or å¼‚æ­¥å¤åˆ¶&lt;/strong>&lt;/p>
&lt;p>&lt;img src="images/ddia-2.png" alt="">&lt;/p>
&lt;p>å›¾2. Follower 1åŒæ­¥å¤åˆ¶èŠ‚ç‚¹ï¼ŒFollower 2å¼‚æ­¥å¤åˆ¶èŠ‚ç‚¹&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åŒæ­¥å¤åˆ¶&lt;/p>
&lt;p>ç”¨æˆ·çš„ä¸€æ¬¡æ•°æ®å†™è¯·æ±‚åœ¨æ‰€æœ‰åŒæ­¥å¤åˆ¶çš„ä»èŠ‚ç‚¹è¢«å†™å…¥åæ‰ä¼šå¾—åˆ°å“åº”ã€‚&lt;/p>
&lt;ul>
&lt;li>ä¼˜ç‚¹ï¼šå§‹ç»ˆä¿è¯ä¸»ä»èŠ‚ç‚¹ä¸­çš„æ•°æ®ä¸€è‡´æ€§&lt;/li>
&lt;li>ç¼ºç‚¹ï¼šåªè¦æœ‰ä»»ä½•åŒæ­¥å¤åˆ¶èŠ‚ç‚¹æ€§èƒ½é™ä½ç”šè‡³æ•…éšœï¼Œç”¨æˆ·è¯·æ±‚å“åº”æ—¶é—´å°†å¤§å¹…å¢åŠ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>å¼‚æ­¥å¤åˆ¶&lt;/p>
&lt;p>ç”¨æˆ·çš„ä¸€æ¬¡æ•°æ®å†™è¯·æ±‚åœ¨ä¸»èŠ‚ç‚¹å†™å…¥åå°±ä¼šå¾—åˆ°å“åº”ï¼Œä¸»ä»å¤åˆ¶å°†åœ¨åç»­å¼‚æ­¥è¿›è¡Œ&lt;/p>
&lt;ul>
&lt;li>ä¼˜ç‚¹ï¼šå³ä½¿ä»èŠ‚ç‚¹å‡ºç°æ•°æ®å¤åˆ¶æ»åï¼Œä¸»èŠ‚ç‚¹ä¾æ—§èƒ½å¤Ÿå“åº”å†™è¯·æ±‚ï¼Œååé‡å¾—åˆ°ä¿è¯&lt;/li>
&lt;li>ç¼ºç‚¹ï¼šä¸‡ä¸€ä¸»èŠ‚ç‚¹ä¸»çº¿æ•…éšœä¸‹çº¿ï¼Œæ•°æ®å¯èƒ½è¿˜æ²¡æ¥å¾—åŠå¤åˆ¶å®Œæ¯•ï¼Œå¯¼è‡´æ–°ä¸Šçº¿çš„ä¸»èŠ‚ç‚¹ï¼ˆä»èŠ‚ç‚¹ç»§æ‰¿ï¼‰æ•°æ®ä¸¢å¤±&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>åŠåŒæ­¥&lt;/p>
&lt;p>åœ¨ä¸šç•Œå®è·µä¸­ï¼Œä¸Šè¿°ä¸¤ç§æ–¹æ¡ˆåªé€‰å…¶ä¸€éƒ½å¤ªè¿‡æç«¯ï¼Œä¸€èˆ¬ä¼šç»“åˆä¸¤ç§å¤åˆ¶æ–¹å¼ä½¿ç”¨ï¼š&lt;/p>
&lt;p>ä¸€èˆ¬å­˜åœ¨ä¸€ä¸ªä»èŠ‚ç‚¹æ˜¯åŒæ­¥å¤åˆ¶ï¼Œå…¶ä»–ä»èŠ‚ç‚¹æ˜¯å¼‚æ­¥å¤åˆ¶ï¼Œä¸‡ä¸€åŒæ­¥èŠ‚ç‚¹ä¸å¯ç”¨ï¼Œå°†æå‡å¦ä¸€ä¸ªå¼‚æ­¥èŠ‚ç‚¹ä½œä¸ºåŒæ­¥èŠ‚ç‚¹ï¼Œè¿™æ ·å°±ä¿è¯äº†ä¸€ä¸ªé›†ç¾¤ä¸­è‡³å°‘æ‹¥æœ‰ä¸¤ä¸ªæ•°æ®ä¸€è‡´ä¸”æœ€æ–°çš„èŠ‚ç‚¹&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ–°å¢èŠ‚ç‚¹&lt;/strong>&lt;/p>
&lt;p>åœºæ™¯ï¼šæé«˜å®¹é”™èƒ½åŠ›ï¼Œæ›¿æ¢æ•…éšœèŠ‚ç‚¹ç­‰&lt;/p>
&lt;p>åŸç†ç®€è¿°ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>åœ¨æŸä¸ªæ—¶é—´ç‚¹å¯¹ä¸»èŠ‚ç‚¹ç”Ÿæˆæ•°æ®å¿«ç…§&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å°†æ­¤å¿«ç…§åº”ç”¨åˆ°æ–°å¢èŠ‚ç‚¹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ–°å¢èŠ‚ç‚¹è¿æ¥è‡³ä¸»èŠ‚ç‚¹ï¼Œè¯·æ±‚å¿«ç…§ç‚¹ï¼ˆä¸æŸä¸ªæ—¥å¿—é¡ºåºç‚¹å…³è”ï¼‰åçš„æ•°æ®æ›´æ”¹æ—¥å¿—&lt;/p>
&lt;p>PostgreSQLå°†æ—¥å¿—é¡ºåºç‚¹ç§°ä¸ºlog sequence numberï¼ŒMySQLåˆ™ç§°ä¸ºbinlog coordinates&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è·å–æ•°æ®æ›´æ”¹æ—¥å¿—åï¼Œä¾æ¬¡åº”ç”¨æ—¥å¿—ä¸­çš„æ•°æ®å˜æ›´ï¼Œè¿™ä¸€æ­¥ç§°ä¸º&lt;strong>è¿½èµ¶&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>å¤„ç†èŠ‚ç‚¹å¤±æ•ˆ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä»èŠ‚ç‚¹å¤±æ•ˆï¼šè¿½èµ¶å¼æ¢å¤&lt;/p>
&lt;p>ä»èŠ‚ç‚¹å´©æºƒä¸‹çº¿åï¼Œåˆé¡ºåˆ©é‡å¯ï¼Œå¯ä»¥é€šè¿‡æ•°æ®å¤åˆ¶æ—¥å¿—å¾—çŸ¥æ•…éšœå‰å¤„ç†çš„æœ€åä¸€ç¬”äº‹åŠ¡ï¼Œç„¶åå‘ä¸»èŠ‚ç‚¹è¯·æ±‚è¯¥äº‹åŠ¡åå‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´æ—¥å¿—ï¼Œå¹¶åº”ç”¨åˆ°æœ¬åœ°ï¼Œä»è€Œ&lt;strong>è¿½èµ¶ä¸»èŠ‚ç‚¹&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸»èŠ‚ç‚¹å¤±æ•ˆï¼šèŠ‚ç‚¹åˆ‡æ¢&lt;/p>
&lt;p>åŸç†ç®€è¿°ï¼š&lt;/p>
&lt;ol>
&lt;li>ç¡®è®¤ä¸»èŠ‚ç‚¹å¤±æ•ˆã€‚ä¸€èˆ¬åŸºäºè¶…æ—¶æœºåˆ¶åˆ¤æ–­ï¼ŒèŠ‚ç‚¹é—´å¿ƒè·³åŒ…å¦‚æœè¶…è¿‡ä¸€æ®µæ—¶é—´æ²¡æœ‰å¾—åˆ°å“åº”ï¼Œåˆ™è§†ä¸ºèŠ‚ç‚¹å¤±æ•ˆ&lt;/li>
&lt;li>é€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹ã€‚ä»èŠ‚ç‚¹ä¹‹é—´é€‰ä¸¾ï¼ˆè¶…è¿‡åŠæ•°èŠ‚ç‚¹è¾¾åˆ°å…±è¯†ï¼‰ï¼Œç›®æ ‡æ˜¯é€‰ä¸¾å‡ºä¸ä¸»èŠ‚ç‚¹æ•°æ®å·®å¼‚æœ€å°çš„ä¸€ä¸ªä»èŠ‚ç‚¹æå‡ä¸ºä¸»èŠ‚ç‚¹ã€‚è¿™é‡Œæ¶‰åŠåˆ°å…±è¯†ç®—æ³•ï¼Œå¸¸è§çš„æœ‰Raftç­‰&lt;/li>
&lt;li>é‡æ–°é…ç½®ç³»ç»Ÿæ¿€æ´»ä¸»èŠ‚ç‚¹ã€‚ä¸»è¦å°±æ˜¯å®¢æˆ·ç«¯çš„æ•°æ®å†™è¯·æ±‚ç°åœ¨åº”è¯¥è·¯ç”±åˆ°æ–°æ™‹å‡çš„ä¸»èŠ‚ç‚¹ã€‚å‰ä¸»èŠ‚ç‚¹é‡æ–°ä¸Šçº¿åè¿˜è¦ç¡®ä¿å…¶é™çº§ä¸ºä»èŠ‚ç‚¹ï¼Œå¹¶è®¤å¯æ–°çš„ä¸»èŠ‚ç‚¹&lt;/li>
&lt;/ol>
&lt;p>å­˜åœ¨çš„é—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>å‰ä¸»èŠ‚ç‚¹é‡æ–°ä¸Šçº¿åï¼Œå¯èƒ½ä¾æ—§è®¤ä¸ºè‡ªå·±æ˜¯ä¸»èŠ‚ç‚¹ï¼Œä»è€Œä¼šç»§ç»­å°è¯•åŒæ­¥å…¶ä»–èŠ‚ç‚¹ï¼Œå¯¼è‡´æ–°ä¸»èŠ‚ç‚¹äº§ç”Ÿå†™å†²çª&lt;/li>
&lt;li>å¦‚æœæ•°æ®åº“éœ€è¦å’Œå…¶ä»–ç³»ç»Ÿç›¸åè°ƒï¼Œé‚£ä¹ˆä¸¢å¼ƒå†™å…¥å†…å®¹æ˜¯æå…¶å±é™©çš„æ“ä½œã€‚æ¯”å¦‚è¯´ä¸€ä¸ªMySQLé›†ç¾¤é‡‡ç”¨è‡ªå¢ä½œä¸ºä¸»é”®ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®æœªå®Œå…¨åŒæ­¥çš„MySQLä»èŠ‚ç‚¹æ™‹å‡ä¸ºä¸»èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨åç»­æ’å…¥è¡Œçš„æ“ä½œä¸‹ï¼Œæ–°ä¸»èŠ‚ç‚¹å°†ä¼šé‡æ–°åˆ†é…æ—§ä¸»èŠ‚ç‚¹å·²ç»åˆ†é…è¿‡çš„ä¸»é”®ã€‚å€˜è‹¥å¤–éƒ¨æœ‰ä¸€ä¸ªrediså¼•ç”¨äº†ä¸»é”®å­—æ®µï¼Œå°±ä¼šå‘ç”ŸMySQLä¸redisæ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µ&lt;/li>
&lt;li>æŸäº›æ•…éšœä¸‹ï¼Œå¯èƒ½ä¼šå‘ç”Ÿå¤šä¸ªèŠ‚ç‚¹è®¤ä¸ºè‡ªå·±æ˜¯ä¸»èŠ‚ç‚¹ï¼Œè¿™ç§ç°è±¡ç§°ä¸º&lt;strong>è„‘è£‚ï¼ˆsplit brainï¼‰&lt;/strong>ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´å¤šä¸ªèŠ‚ç‚¹å¯å†™ï¼Œæœ€åå‡ºç°æ•°æ®å†²çªçš„æƒ…å†µ&lt;/li>
&lt;li>èŠ‚ç‚¹å¤±æ•ˆçš„è¶…æ—¶æ£€æµ‹æœºåˆ¶å¾ˆéš¾è®¾ç½®ä¸€ä¸ªåˆé€‚çš„æ—¶é—´ï¼Œæ—¶é—´è¶Šé•¿ä»£è¡¨æ€»ä½“æ¢å¤æ—¶é—´è¶Šé•¿ï¼Œæ—¶é—´è¶ŠçŸ­ï¼Œè¶Šå¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„èŠ‚ç‚¹åˆ‡æ¢&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å¤åˆ¶æ—¥å¿—çš„å®ç°&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åŸºäºè¯­å¥çš„å¤åˆ¶&lt;/p>
&lt;p>ä¸»èŠ‚ç‚¹è®°å½•æ¯æ¬¡å†™è¯·æ±‚æ‰€æ‰§è¡Œçš„è¯­å¥ï¼Œå¹¶å°†è¯­å¥æ—¥å¿—å‘é€ç»™ä»èŠ‚ç‚¹ã€‚å¯¹äºå…³ç³»æ•°æ®åº“ï¼Œæ¯ä¸ªINSERTã€UPDATEæˆ–DELETEè¯­å¥éƒ½ä¼šè½¬å‘ç»™ä»èŠ‚ç‚¹ï¼Œç„¶åäº¤ç”±ä»èŠ‚ç‚¹æ‰§è¡Œã€‚&lt;/p>
&lt;p>æœ‰ä¸‹åˆ—å‡ ä¸ªé—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>ä»»ä½•éç¡®å®šå‡½æ•°è¯­å¥æ¯”å¦‚NOW()ã€RAND()ï¼Œåœ¨ä¸åŒèŠ‚ç‚¹ä¸Šå¯èƒ½æœ‰ä¸åŒè¿”å›å€¼&lt;/li>
&lt;li>å¦‚æœè¯­å¥ä½¿ç”¨äº†è‡ªå¢ç­‰ä¾èµ–ç°æœ‰æ•°æ®çš„æƒ…å†µï¼Œä¼šå—åˆ°é™åˆ¶&lt;/li>
&lt;li>æœ‰å‰¯ä½œç”¨çš„è¯­å¥ï¼Œæ¯”å¦‚è§¦å‘å™¨ã€ç”¨æˆ·å®šä¹‰å‡½æ•°ç­‰ï¼Œä¸åŒèŠ‚ç‚¹ä¼šäº§ç”Ÿä¸åŒçš„å‰¯ä½œç”¨&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>åŸºäºé¢„å†™æ—¥å¿—ï¼ˆWALï¼‰ä¼ è¾“&lt;/p></description></item><item><title>Raftä¸ZABå¯¹æ¯”</title><link>https://ngtrio.com/posts/raft%E4%B8%8Ezab%E5%AF%B9%E6%AF%94/</link><pubDate>Fri, 13 Aug 2021 08:29:23 +0800</pubDate><guid>https://ngtrio.com/posts/raft%E4%B8%8Ezab%E5%AF%B9%E6%AF%94/</guid><description>&lt;h2 id="zab">&lt;strong>ZAB&lt;/strong>&lt;/h2>
&lt;h3 id="zabèŠ‚ç‚¹çŠ¶æ€">&lt;strong>ZABèŠ‚ç‚¹çŠ¶æ€ï¼š&lt;/strong>&lt;/h3>
&lt;ol>
&lt;li>LOOKING&lt;/li>
&lt;li>FOLLOWING&lt;/li>
&lt;li>LEADING&lt;/li>
&lt;li>OBSERVING&lt;/li>
&lt;/ol>
&lt;h3 id="ä¸“æœ‰åè¯">&lt;strong>ä¸“æœ‰åè¯&lt;/strong>&lt;/h3>
&lt;ol>
&lt;li>electionEpochï¼šé€‰ä¸¾çš„é€»è¾‘æ—¶é’Ÿ&lt;/li>
&lt;li>peerEpochï¼šæ¯æ¬¡leaderé€‰ä¸¾å®Œæˆåä¼šé€‰å‡ºä¸€ä¸ªpeerEpoch&lt;/li>
&lt;li>zxidï¼šæ¯ä¸ªproposalçš„å”¯ä¸€idï¼Œé«˜32ä½ä¸ºpeerEpochä½32ä½ä¸ºcounter&lt;/li>
&lt;li>lastProcessedZxidï¼šæœ€åä¸€æ¬¡commitçš„zxid&lt;/li>
&lt;/ol>
&lt;h3 id="ç†è®ºå®ç°çš„å››ä¸ªé˜¶æ®µ">&lt;strong>ç†è®ºå®ç°çš„å››ä¸ªé˜¶æ®µ&lt;/strong>&lt;/h3>
&lt;p>&lt;strong>Phase 0. Leader election&lt;/strong>&lt;/p>
&lt;p>æ‰€æœ‰èŠ‚ç‚¹æœ€å¼€å§‹éƒ½æ˜¯LOOKINGã€‚åªè¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹å¾—åˆ°è¶…åŠæ•°èŠ‚ç‚¹çš„ç¥¨æ•°ï¼Œå®ƒå°±å¯ä»¥å½“é€‰å‡† leaderã€‚åªæœ‰åˆ°è¾¾ Phase 3 å‡† leader æ‰ä¼šæˆä¸ºçœŸæ­£çš„ leaderã€‚è¿™ä¸€é˜¶æ®µçš„ç›®çš„æ˜¯å°±æ˜¯ä¸ºäº†é€‰å‡ºä¸€ä¸ªå‡† leaderï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚&lt;/p>
&lt;p>åè®®å¹¶æ²¡æœ‰è§„å®šè¯¦ç»†çš„é€‰ä¸¾ç®—æ³•ã€‚&lt;/p>
&lt;p>&lt;strong>Phase 1. Discovery&lt;/strong>&lt;/p>
&lt;p>è¿™ä¸ªé˜¶æ®µæœ‰ä¸¤ä¸ªå·¥ä½œ&lt;/p>
&lt;ol>
&lt;li>è·å–æ‰€æœ‰followerçš„lastZxidç¡®å®šå½“å‰é›†ç¾¤ä¸­æœ‰å“ªä¸ªèŠ‚ç‚¹æ‹¥æœ‰æœ€æ–°æ•°æ®&lt;/li>
&lt;li>ä»æ‰€æœ‰followerçš„currentEpochä¸­é€‰å‡ºä¸€ä¸ªæœ€å¤§çš„ç„¶åè‡ªå¢1å¾—åˆ°peerEpochï¼Œå¹¶å‘ç»™æ‰€æœ‰followerï¼Œfollowerä¼šå°†è‡ªå·±çš„acceptEpochè®¾ç½®ä¸ºpeerEpochï¼Œæ‹’ç»ä¸€åˆ‡å°äºè¯¥epochçš„è¯·æ±‚&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Phase 2. Synchronization&lt;/strong>&lt;/p>
&lt;p>è¿™ä¸ªé˜¶æ®µå°±æ˜¯æ ¹æ®Discoveryé˜¶æ®µæ‰¾åˆ°çš„æœ€æ–°æ•°æ®èŠ‚ç‚¹ï¼Œleaderä¼šä¸å…¶åŒæ­¥ã€‚&lt;/p>
&lt;p>&lt;strong>è¿™é‡Œå‘ç”Ÿäº†followeråˆ°leaderçš„æ•°æ®åŒæ­¥ï¼Œè¿™æ˜¯å’Œzookeeperçš„å®ç°è¿˜æœ‰raftçš„å®ç°æ˜¯ä¸ä¸€æ ·çš„&lt;/strong>&lt;/p>
&lt;p>åŒæ­¥å®Œæˆåï¼Œä¼šå‘æ‰€æœ‰followeråŒæ­¥æ•°æ®ï¼Œåªæœ‰å½“quorumçš„followeréƒ½å®Œæˆäº†æ•°æ®åŒæ­¥åï¼Œå…¶å½“é€‰ä¸ºæ–°çš„leaderã€‚&lt;/p>
&lt;p>&lt;strong>Phase 3 . Broadcast&lt;/strong>&lt;/p>
&lt;p>åˆ°äº†è¿™ä¸ªé˜¶æ®µï¼Œ leaderæ‰èƒ½å¯¹å¤–æä¾›æœåŠ¡ï¼Œå¯ä»¥è¿›è¡Œæ¶ˆæ¯å¹¿æ’­ã€‚æ•°æ®åŒæ­¥çš„è¿‡ç¨‹ç±»ä¼¼ä¸€ä¸ª2PCï¼ŒLeaderå°†clientå‘è¿‡æ¥çš„è¯·æ±‚ç”Ÿæˆä¸€ä¸ªäº‹åŠ¡proposalï¼Œç„¶åå‘é€ç»™Followerï¼Œå¤šæ•°Followeråº”ç­”ä¹‹åï¼ŒLeaderå†å‘é€Commitç»™å…¨éƒ¨çš„Followerè®©å…¶è¿›è¡Œæäº¤ã€‚&lt;/p>
&lt;h3 id="zookeeperçš„å®ç°">&lt;strong>Zookeeperçš„å®ç°&lt;/strong>&lt;/h3>
&lt;p>&lt;strong>Phase 0. Fast Leader Election&lt;/strong>&lt;/p>
&lt;p>è¿™ä¸ªé˜¶æ®µç›¸å½“äºæ˜¯ç†è®ºå®ç°ä¸­çš„Phase 0ï¼ŒPhase 1çš„æ•´åˆã€‚æ¯ä¸ªèŠ‚ç‚¹ä¸æ–­æ›´æ–°è‡ªå·±çš„ç¥¨ç®±ï¼Œæœ€ç»ˆèƒ½å¤Ÿæ‰¾åˆ°lastZxidæœ€å¤§çš„èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶æ¨é€‰ä¸ºleaderã€‚&lt;/p>
&lt;p>è¿™æ ·çš„å®ç°ä¹Ÿé¿å…äº†syncçš„æ—¶å€™éœ€è¦ä»followerå‘leaderåŒæ­¥æ•°æ®ã€‚&lt;/p>
&lt;p>æˆä¸ºleaderçš„æ¡ä»¶&lt;/p>
&lt;ul>
&lt;li>epochæœ€å¤§&lt;/li>
&lt;li>zxidæœ€å¤§&lt;/li>
&lt;li>server idæœ€å¤§&lt;/li>
&lt;/ul>
&lt;p>èŠ‚ç‚¹åœ¨é€‰ä¸¾å¼€å§‹éƒ½é»˜è®¤æŠ•ç¥¨ç»™è‡ªå·±ï¼Œå½“æ¥æ”¶å…¶ä»–èŠ‚ç‚¹çš„é€‰ç¥¨æ—¶ï¼Œä¼šæ ¹æ®ä¸Šé¢çš„æ¡ä»¶æ›´æ”¹è‡ªå·±çš„é€‰ç¥¨å¹¶é‡æ–°å‘é€é€‰ç¥¨ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œå½“æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„å¾—ç¥¨è¶…è¿‡åŠæ•°ï¼Œè¯¥èŠ‚ç‚¹ä¼šè®¾ç½®è‡ªå·±çš„çŠ¶æ€ä¸º leadingï¼Œå…¶ä»–èŠ‚ç‚¹ä¼šè®¾ç½®è‡ªå·±çš„çŠ¶æ€ä¸º followingã€‚&lt;/p>
&lt;p>&lt;strong>Phase 1. Recovery&lt;/strong>&lt;/p>
&lt;p>è¿™ä¸ªé˜¶æ®µæ‰€æœ‰çš„followeréƒ½ä¼šå‘é€è‡ªå·±çš„lastZxidåˆ°leaderã€‚&lt;/p>
&lt;p>Leaderä¼šæ ¹æ®followerçš„lastZxidå’Œè‡ªå·±çš„lastZxidè¿›è¡Œæ¯”è¾ƒï¼Œåšå‡ºå¦‚ä¸‹ä¸‰ç§å¯èƒ½çš„åŒæ­¥ç­–ç•¥ï¼š&lt;/p>
&lt;ol>
&lt;li>SNAPï¼šå¦‚æœfolloweræ•°æ®å¤ªè€ï¼Œå·²ç»å°äºminCommitLogåˆ™é‡‡å–å¿«ç…§åŒæ­¥&lt;/li>
&lt;li>DIFFï¼šå¦‚æœfollowerçš„lastZxid å¤„äºminCommitLogå’ŒmaxCommitLogä¹‹é—´ï¼Œåˆ™é‡‡å–å¢é‡åŒæ­¥F.lastZxid-L.lastZxidä¹‹é—´çš„æ•°æ®&lt;/li>
&lt;li>TRUNCï¼šå½“F.lastZxidæ¯”L.lastZxidå¤§æ—¶ï¼ŒLeaderä¼šè®©followeråˆ é™¤æ‰€æœ‰å¯¹äºçš„æ•°æ®&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Phase 2. Broadcast&lt;/strong>&lt;/p></description></item><item><title>Scalaéšå¼è½¬æ¢çš„ç†è§£</title><link>https://ngtrio.com/posts/scala%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E7%9A%84%E7%90%86%E8%A7%A3/</link><pubDate>Fri, 09 Jul 2021 09:29:32 +0800</pubDate><guid>https://ngtrio.com/posts/scala%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E7%9A%84%E7%90%86%E8%A7%A3/</guid><description>&lt;h3 id="å°†éšå¼è§£æçœ‹ä½œæ˜¯æ–¹æ³•è°ƒç”¨">å°†éšå¼è§£æçœ‹ä½œæ˜¯æ–¹æ³•è°ƒç”¨&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>éšå¼å‚æ•°&lt;/p>
&lt;p>ImplicitValue: Unit =&amp;gt; RequiredType&lt;/p>
&lt;/li>
&lt;li>
&lt;p>éšå¼è½¬æ¢&lt;/p>
&lt;p>ImplicitValue: GivenType =&amp;gt; RequiredType.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨æ–¹æ³•æ²¡æœ‰è¢«å®šä¹‰çš„ç±»å‹ä¸Šè°ƒç”¨æ–¹æ³•&lt;/p>
&lt;p>ImplicitValue: GivenType =&amp;gt; ???&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="éšå¼èŒƒå›´implicit-scopeå®šä¹‰">éšå¼èŒƒå›´ï¼ˆimplicit scopeï¼‰å®šä¹‰&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>Current scope&lt;/p>
&lt;ul>
&lt;li>Local scope&lt;/li>
&lt;li>Current Scope defined by Imports (Explicit Imports and Wildcard Imports)&lt;/li>
&lt;/ul>
&lt;p>ç®€å•çš„è¯´å°±æ˜¯å’Œå˜é‡ã€æ ‡è¯†ç¬¦ç­‰çš„æœç´¢scopeæ˜¯ä¸€æ ·çš„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Associated Type&lt;/p>
&lt;ul>
&lt;li>Function0[RequiredType]&lt;/li>
&lt;li>Function1[GivenType, RequireType]&lt;/li>
&lt;li>Function1[GivenType, ???]&lt;/li>
&lt;/ul>
&lt;p>éšå¼èŒƒå›´åŒ…æ‹¬ä¸Šè¿°æ¶‰åŠåˆ°çš„ç±»å‹çš„ä¼´ç”Ÿå¯¹è±¡ï¼Œå¦‚æœè¯´ä¸Šè¿°ç±»å‹æ˜¯ç±»å‹æ„é€ å™¨ï¼Œæ¯”å¦‚è¯´RequiredType[T]ï¼Œé‚£ä¹ˆTçš„éšå¼èŒƒå›´åŒæ ·ä¼šè¢«æœç´¢ã€‚GivenType, RequireTypeçš„çˆ¶ç±»/traitï¼ˆå¦‚æœæœ‰ï¼‰çš„ä¼´ç”Ÿå¯¹è±¡åŒæ ·ä¹Ÿä¼šè¢«æœç´¢ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>å‚è€ƒï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.geekabyte.io/2017/12/implicit-scope-and-implicit-resolution.html">https://www.geekabyte.io/2017/12/implicit-scope-and-implicit-resolution.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote></description></item></channel></rss>